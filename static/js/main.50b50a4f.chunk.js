(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,t,A){},16:function(e,t,A){"use strict";A.r(t);var n=A(0),r=A.n(n),a=A(5),c=A.n(a),u=(A(14),A(6)),o=A.n(u),s=A(8),i=Object(n.createContext)(),p=A(1);function l(e,t){switch(t.type){case"FETCH_PURCHASES_REQUEST":return Object(p.a)({},e,{purchases:{items:e.purchases.items.map((function(e){return Object(p.a)({},e,{open:!1})})),loading:!0,error:null}});case"FETCH_PURCHASES_SUCCESS":return Object(p.a)({},e,{purchases:{items:t.payload.items,loading:!1,error:null}});case"FETCH_PURCHASES_FAILURE":return Object(p.a)({},e,{purchases:Object(p.a)({},e.purchases,{loading:!1,error:t.payload.error})});case"EDIT_PURCHASE":return Object(p.a)({},e,{editMode:!0,editedPurchase:Object(p.a)({},e.editedPurchase,{purchase:t.payload})});case"CHANGE_EDIT_AMOUNT":return Object(p.a)({},e,{editedPurchase:Object(p.a)({},e.editedPurchase,{purchase:Object(p.a)({},e.editedPurchase.purchase,{amount:t.payload.amount})})});case"CHANGE_EDIT_CATEGORY":return Object(p.a)({},e,{editedPurchase:Object(p.a)({},e.editedPurchase,{purchase:Object(p.a)({},e.editedPurchase.purchase,{category:t.payload.category})})});case"CHANGE_EDIT_DESCRIPTION":return Object(p.a)({},e,{editedPurchase:Object(p.a)({},e.editedPurchase,{purchase:Object(p.a)({},e.editedPurchase.purchase,{description:t.payload.description})})});case"RESET_PURCHASE":return Object(p.a)({},e,{editMode:!1,editedPurchase:Object(p.a)({},e.editedPurchase,{purchase:{id:"",amount:"",category:"",description:""}})});case"FETCH_PURCHASE_DESCRIPTION_REQUEST":return Object(p.a)({},e,{purchases:Object(p.a)({},e.purchases,{loading:!0,error:null})});case"FETCH_PURCHASE_DESCRIPTION_SUCCESS":var A=t.payload.description;return Object(p.a)({},e,{purchases:Object(p.a)({},e.purchases,{loading:!1,error:null}),detailedPurchase:Object(p.a)({},e.detailedPurchase,{purchase:{description:A}})});case"TOGGLE_OPEN":return Object(p.a)({},e,{purchases:Object(p.a)({},e.purchases,{items:e.purchases.items.map((function(e){return e.id===t.payload.id?Object(p.a)({},e,{open:!e.open}):Object(p.a)({},e,{open:!1})}))})});default:return e}}var E={purchases:{items:[],loading:!1,error:null},editMode:!1,editedPurchase:{purchase:{id:0,amount:"",category:"",description:""},loading:!1,error:null},detailedPurchase:{purchase:{description:""},loading:!1,error:null}};function d(e){var t=Object(n.useReducer)(l,E),A=Object(s.a)(t,2),a=A[0],c=A[1];return r.a.createElement("div",null,r.a.createElement(i.Provider,{value:{state:a,dispatch:c}},e.children))}var C=A(2),h=A.n(C),m=A(3);function y(e){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(h.a.mark((function e(t){var A,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w()),e.prev=1,e.next=4,fetch("https://context-api-crud.herokuapp.com/api/purchases");case 4:if((A=e.sent).ok){e.next=7;break}throw new Error;case 7:return e.next=9,A.json();case 9:n=e.sent,t(B(n)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t(z(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function g(e,t){return S.apply(this,arguments)}function S(){return(S=Object(m.a)(h.a.mark((function e(t,A){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w()),e.prev=1,e.next=4,fetch("https://context-api-crud.herokuapp.com/api/purchases",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error;case 7:return e.next=9,n.json();case 9:r=e.sent,t(B(r)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t(z(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function f(e,t,A){return Q.apply(this,arguments)}function Q(){return(Q=Object(m.a)(h.a.mark((function e(t,A,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w()),e.prev=1,e.next=4,fetch("https://context-api-crud.herokuapp.com/api/purchases/".concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});case 4:if((r=e.sent).ok){e.next=7;break}throw new Error;case 7:return e.next=9,r.json();case 9:a=e.sent,t(B(a)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t(z(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function w(){return{type:"FETCH_PURCHASES_REQUEST"}}function B(e){return{type:"FETCH_PURCHASES_SUCCESS",payload:{items:e}}}function z(e){return{type:"FETCH_PURCHASES_FAILURE",payload:{error:e}}}function O(e){return{type:"TOGGLE_OPEN",payload:{id:e}}}function I(e){return{type:"FETCH_PURCHASE_DESCRIPTION_SUCCESS",payload:{description:e}}}function b(e){var t=e.id,A=e.amount,a=e.category,c=e.description,u=e.open,o=Object(n.useContext)(i),s=o.state.detailedPurchase.purchase,p=o.dispatch,l=function(){var e=Object(m.a)(h.a.mark((function e(t){var A,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://context-api-crud.herokuapp.com/api/purchases/".concat(t),{method:"DELETE"});case 2:return A=e.sent,e.next=5,A.json();case 5:n=e.sent,p(B(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(h.a.mark((function e(){var A,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({type:"FETCH_PURCHASE_DESCRIPTION_REQUEST",payload:{}}),e.next=3,fetch("https://context-api-crud.herokuapp.com/api/purchases/".concat(t));case 3:return A=e.sent,e.next=6,A.json();case 6:n=e.sent,p(I(n.description)),p(O(t));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("li",{onClick:E},"Price: ",A,", Category: ",a,"  "),r.a.createElement("button",{onClick:function(){return l(t)}},"Delete")," ",r.a.createElement("button",{onClick:function(){console.log(c),p(function(e,t,A,n){return{type:"EDIT_PURCHASE",payload:{id:e,amount:t,category:A,description:n}}}(t,A,a,c))}},"Edit"),u&&r.a.createElement("p",null,s.description))}var M=A(7),T=A.n(M);function R(){return r.a.createElement("img",{src:T.a,alt:""})}function v(){var e=Object(n.useContext)(i),t=e.state,A=t.purchases,a=A.items,c=A.loading,u=A.error,o=t.editMode,s=t.editedPurchase.purchase,p=e.dispatch,l=s.id,E=s.amount,d=s.category,C=s.description,P=function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),g(p,s),p({type:"RESET_PURCHASE",payload:{}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(p,s,l);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){y(p)}),[p]),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:P,onReset:function(e){e.preventDefault(),p({type:"RESET_PURCHASE",payload:{}})}},r.a.createElement("label",null,"Price"),r.a.createElement("input",{type:"text",onChange:function(e){return p(function(e){return{type:"CHANGE_EDIT_AMOUNT",payload:{amount:e}}}(e.target.value))},value:E}),r.a.createElement("label",null,"Category"),r.a.createElement("select",{onChange:function(e){return p(function(e){return{type:"CHANGE_EDIT_CATEGORY",payload:{category:e}}}(e.target.value))},value:d},r.a.createElement("option",{value:"Select",disabled:!0},"--Select--"),r.a.createElement("option",{value:"Auto"},"Auto"),r.a.createElement("option",{value:"Health"},"Health"),r.a.createElement("option",{value:"Entertainment"},"Entertainment")),o?r.a.createElement("button",{onClick:S},"Edit Post"):r.a.createElement("button",{type:"submit"},"Add Post"),r.a.createElement("button",{type:"reset"},"Cancel"),r.a.createElement("div",null,r.a.createElement("textarea",{onChange:function(e){return p(function(e){return{type:"CHANGE_EDIT_DESCRIPTION",payload:{description:e}}}(e.target.value))},value:C,cols:"30",rows:"10",placeholder:"Description..."}))),r.a.createElement("ul",null,a.map((function(e){return r.a.createElement(b,Object.assign({key:e.id},e))}))),r.a.createElement("div",null,"Total: ",a.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0)),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Opps... Something went wrong"),r.a.createElement("button",{onClick:function(){return y(p)}},"Retry")),c&&r.a.createElement(R,null))}var x=function(){return r.a.createElement("div",{className:o.a.App},r.a.createElement(d,null,r.a.createElement(v,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,A){e.exports={App:"App_App__16ZpL"}},7:function(e,t){e.exports="data:image/gif;base64,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"},9:function(e,t,A){e.exports=A(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.50b50a4f.chunk.js.map